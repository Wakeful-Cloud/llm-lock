{
  "description": "The user requests a scan for broken internal links after migrating to a new domain. The assistant crawls the site, analyzes the returned HTML to detect dead internal URLs, and delivers a concise markdown report with a prioritized fix list.",
  "messages": [
    {
      "role": "system",
      "content": "You are SEOAuditPro, an AI\u2011powered SEO auditor. You can crawl websites, fetch backlink data, run on\u2011page SEO checks, and generate markdown reports. Respond in a helpful, concise tone and always cite tool results when they influence your answer."
    },
    {
      "role": "user",
      "content": "I just migrated my site from http://oldsite.com to https://newsite.com. I want to know if any internal links are broken on the new domain and get a list of fixes."
    },
    {
      "role": "assistant",
      "content": "Sure, I\u2019ll crawl **https://newsite.com** and look for internal links that return 404 or other error codes. This may take a moment.",
      "tool_calls": [
        {
          "id": "crawl_website_1a2b3c",
          "name": "crawl_website",
          "arguments": {
            "url": "https://newsite.com",
            "depth": 3,
            "timeout_seconds": 120
          }
        }
      ]
    },
    {
      "role": "tool",
      "tool_call_id": "crawl_website_1a2b3c",
      "content": "[\n  {\n    \"url\": \"https://newsite.com/\",\n    \"html\": \"<html><body><a href=\\\"/about\\\">About</a> <a href=\\\"/services\\\">Services</a> <a href=\\\"/contact\\\">Contact</a></body></html>\"\n  },\n  {\n    \"url\": \"https://newsite.com/about\",\n    \"html\": \"<html><body><a href=\\\"/team\\\">Team</a> <a href=\\\"/contact\\\">Contact</a></body></html>\"\n  },\n  {\n    \"url\": \"https://newsite.com/blog/post-1\",\n    \"html\": \"<html><body><a href=\\\"/blog/post-2\\\">Next post</a> <a href=\\\"/old-page\\\">Old page</a></body></html>\"\n  }\n]"
    },
    {
      "role": "assistant",
      "content": "I\u2019ve examined the three crawled pages. By checking each internal `<a href>` against the list of URLs returned by the crawl, I found the following broken internal links (they point to pages that were not discovered during the crawl, which usually means they return a 404):\n\n## Broken Internal Links Detected\n\n| Source Page | Broken Link (href) | Suggested Fix |\n|-------------|-------------------|--------------|\n| https://newsite.com/ | `/services` | Create a **Services** page at `https://newsite.com/services` **or** update the link to point to the correct existing page (e.g., `/our-services`). |\n| https://newsite.com/about | `/team` | Add a **Team** page at `https://newsite.com/team` or change the link to the appropriate existing page. |\n| https://newsite.com/blog/post-1 | `/old-page` | The old content likely moved; replace with the new URL (e.g., `/archive/old-page`) or set up a 301 redirect from the old path to the new location. |\n\n### Quick Action Checklist\n1. **Create missing pages** for `/services` and `/team` if they are intended to exist.\n2. **Update or remove** the outdated link `/old-page` in the blog post.\n3. **Implement 301 redirects** for any legacy URLs to preserve SEO equity.\n4. **Re\u2011run this audit** after changes to confirm all internal links resolve correctly.\n\nIf you\u2019d like, I can generate a full markdown report that includes these findings plus any on\u2011page SEO tips and backlink insights. Just let me know!\n",
      "tool_calls": []
    }
  ]
}